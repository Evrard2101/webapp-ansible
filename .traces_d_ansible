2025-02-19 12:05:36,030 p=6000 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with yaml plugin: We were
unable to read either as JSON nor YAML, these are the errors we got from each: JSON: Expecting
value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   did not find expected
<document start>  The error appears to be in '/home/deploy/codes/ansible/webapp/hosts': line 2,
column 1, but may be elsewhere in the file depending on the exact syntax problem.  The
offending line appears to be:  [Web] srv-web-01 ansible_host=192.168.32.156 # L'adresse IP de
votre serveur ^ here

2025-02-19 12:05:36,032 p=6000 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with ini plugin: Invalid
host pattern '---' supplied, '---' is normally a sign this is a YAML file.

2025-02-19 12:05:36,037 p=6000 u=deploy n=ansible | [WARNING]: Unable to parse /home/deploy/codes/ansible/webapp/hosts as an inventory source

2025-02-19 12:05:36,038 p=6000 u=deploy n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2025-02-19 12:05:36,157 p=6000 u=deploy n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit
localhost does not match 'all'

2025-02-19 12:18:41,107 p=13424 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with yaml plugin: We were
unable to read either as JSON nor YAML, these are the errors we got from each: JSON: Expecting
value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   did not find expected
<document start>  The error appears to be in '/home/deploy/codes/ansible/webapp/hosts': line 2,
column 1, but may be elsewhere in the file depending on the exact syntax problem.  The
offending line appears to be:  [Web] srv-web-01 ansible_host=192.168.32.156 # L'adresse IP de
votre serveur ^ here

2025-02-19 12:18:41,115 p=13424 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with ini plugin: Invalid
host pattern '---' supplied, '---' is normally a sign this is a YAML file.

2025-02-19 12:18:41,116 p=13424 u=deploy n=ansible | [WARNING]: Unable to parse /home/deploy/codes/ansible/webapp/hosts as an inventory source

2025-02-19 12:18:41,120 p=13424 u=deploy n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2025-02-19 12:18:41,223 p=13424 u=deploy n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit
localhost does not match 'all'

2025-02-19 12:23:53,781 p=13843 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with yaml plugin: We were
unable to read either as JSON nor YAML, these are the errors we got from each: JSON: Expecting
value: line 1 column 1 (char 0)  Syntax Error while loading YAML.   did not find expected
<document start>  The error appears to be in '/home/deploy/codes/ansible/webapp/hosts': line 4,
column 1, but may be elsewhere in the file depending on the exact syntax problem.  The
offending line appears to be:   [local] ^ here

2025-02-19 12:23:53,784 p=13843 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with ini plugin:
/home/deploy/codes/ansible/webapp/hosts:1: Expected key=value host variable assignment, got:
[Web]

2025-02-19 12:23:53,786 p=13843 u=deploy n=ansible | [WARNING]: Unable to parse /home/deploy/codes/ansible/webapp/hosts as an inventory source

2025-02-19 12:23:53,787 p=13843 u=deploy n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2025-02-19 12:23:53,824 p=13843 u=deploy n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit
localhost does not match 'all'

2025-02-19 12:24:33,210 p=13908 u=deploy n=ansible | control | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-02-19 12:24:33,927 p=13908 u=deploy n=ansible | srv-web-01 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-02-19 12:47:12,543 p=14444 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with yaml plugin: We were
unable to read either as JSON nor YAML, these are the errors we got from each: JSON: Expecting
value: line 1 column 1 (char 0)  Syntax Error while loading YAML.   but found another document
The error appears to be in '/home/deploy/codes/ansible/webapp/hosts': line 12, column 1, but
may be elsewhere in the file depending on the exact syntax problem.  The offending line appears
to be:   --- ^ here

2025-02-19 12:47:12,550 p=14444 u=deploy n=ansible | [WARNING]:  * Failed to parse /home/deploy/codes/ansible/webapp/hosts with ini plugin: Invalid
host pattern 'all:' supplied, ending in ':' is not allowed, this character is reserved to
provide a port.

2025-02-19 12:47:12,552 p=14444 u=deploy n=ansible | [WARNING]: Unable to parse /home/deploy/codes/ansible/webapp/hosts as an inventory source

2025-02-19 12:47:12,554 p=14444 u=deploy n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2025-02-19 12:47:12,619 p=14444 u=deploy n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit
localhost does not match 'all'

2025-02-19 12:47:16,526 p=14444 u=deploy n=ansible | [WARNING]: Could not match supplied host pattern, ignoring: prod

2025-02-19 12:47:16,540 p=14444 u=deploy n=ansible | PLAY [Apache installation avec Docker] *********************************************************
2025-02-19 12:47:16,543 p=14444 u=deploy n=ansible | skipping: no hosts matched
2025-02-19 12:47:16,546 p=14444 u=deploy n=ansible | PLAY RECAP *************************************************************************************
2025-02-19 12:58:07,064 p=14646 u=deploy n=ansible | PLAY [Apache installation avec Docker] *********************************************************
2025-02-19 12:58:07,869 p=14646 u=deploy n=ansible | TASK [Gathering Facts] *************************************************************************
2025-02-19 12:58:19,205 p=14646 u=deploy n=ansible | ok: [srv-web-01]
2025-02-19 12:58:19,345 p=14646 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] *****************************************************************
2025-02-19 12:58:25,463 p=14646 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (Docker SDK for Python: docker (Python >= 2.7) or docker-py (Python 2.6)) on evrard-virtual-machine's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter, for example via `pip install docker` or `pip install docker-py` (Python 2.6). The error was: No module named 'docker'"}
2025-02-19 12:58:25,492 p=14646 u=deploy n=ansible | PLAY RECAP *************************************************************************************
2025-02-19 12:58:25,494 p=14646 u=deploy n=ansible | srv-web-01                 : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 13:01:11,237 p=15089 u=deploy n=ansible | PLAY [Apache installation avec Docker] *********************************************************
2025-02-19 13:01:11,614 p=15089 u=deploy n=ansible | TASK [Gathering Facts] *************************************************************************
2025-02-19 13:01:20,298 p=15089 u=deploy n=ansible | ok: [srv-web-01]
2025-02-19 13:01:20,439 p=15089 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] *****************************************************************
2025-02-19 13:01:25,341 p=15089 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (Docker SDK for Python: docker (Python >= 2.7) or docker-py (Python 2.6)) on evrard-virtual-machine's Python /usr/bin/python3. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter, for example via `pip install docker` or `pip install docker-py` (Python 2.6). The error was: No module named 'docker'"}
2025-02-19 13:01:25,362 p=15089 u=deploy n=ansible | PLAY RECAP *************************************************************************************
2025-02-19 13:01:25,366 p=15089 u=deploy n=ansible | srv-web-01                 : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 13:14:00,789 p=15314 u=deploy n=ansible | PLAY [Apache installation avec Docker] *********************************************************
2025-02-19 13:14:01,219 p=15314 u=deploy n=ansible | TASK [Gathering Facts] *************************************************************************
2025-02-19 13:14:25,139 p=15314 u=deploy n=ansible | ok: [srv-web-01]
2025-02-19 13:14:25,546 p=15314 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] *****************************************************************
2025-02-19 13:14:41,678 p=15314 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Error connecting: Error while fetching server API version: ('Connection aborted.', PermissionError(13, 'Permission denied'))"}
2025-02-19 13:14:41,713 p=15314 u=deploy n=ansible | PLAY RECAP *************************************************************************************
2025-02-19 13:14:41,720 p=15314 u=deploy n=ansible | srv-web-01                 : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 13:43:49,257 p=15630 u=deploy n=ansible | PLAY [Apache installation avec Docker] *********************************************************
2025-02-19 13:43:49,593 p=15630 u=deploy n=ansible | TASK [Gathering Facts] *************************************************************************
2025-02-19 13:44:01,042 p=15630 u=deploy n=ansible | ok: [srv-web-01]
2025-02-19 13:44:01,199 p=15630 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] *****************************************************************
2025-02-19 13:44:07,804 p=15630 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Error connecting: Error while fetching server API version: ('Connection aborted.', PermissionError(13, 'Permission denied'))"}
2025-02-19 13:44:07,820 p=15630 u=deploy n=ansible | PLAY RECAP *************************************************************************************
2025-02-19 13:44:07,830 p=15630 u=deploy n=ansible | srv-web-01                 : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 13:45:52,799 p=15872 u=deploy n=ansible | Using /home/deploy/codes/ansible/webapp/ansible.cfg as config file
2025-02-19 13:45:54,397 p=15872 u=deploy n=ansible | PLAY [Apache installation avec Docker] *********************************************************
2025-02-19 13:45:54,982 p=15872 u=deploy n=ansible | TASK [Gathering Facts] *************************************************************************
2025-02-19 13:46:05,945 p=15872 u=deploy n=ansible | ok: [srv-web-01]
2025-02-19 13:46:06,072 p=15872 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] *****************************************************************
2025-02-19 13:46:12,334 p=15872 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Error connecting: Error while fetching server API version: ('Connection aborted.', PermissionError(13, 'Permission denied'))"}
2025-02-19 13:46:12,361 p=15872 u=deploy n=ansible | PLAY RECAP *************************************************************************************
2025-02-19 13:46:12,372 p=15872 u=deploy n=ansible | srv-web-01                 : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 13:49:21,937 p=16064 u=deploy n=ansible | control | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-02-19 13:49:22,966 p=16064 u=deploy n=ansible | srv-web-01 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-02-19 14:10:47,812 p=16715 u=deploy n=ansible | ERROR! 'pre_task' is not a valid attribute for a Play

The error appears to be in '/home/deploy/codes/ansible/webapp/deploy.yaml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: "Apache installation avec Docker"
  ^ here

2025-02-19 14:13:58,227 p=16800 u=deploy n=ansible | PLAY [Apache installation avec Docker] *************************************************************************
2025-02-19 14:13:58,342 p=16800 u=deploy n=ansible | TASK [Gathering Facts] *****************************************************************************************
2025-02-19 14:14:10,217 p=16800 u=deploy n=ansible | ok: [srv-web-01]
2025-02-19 14:14:10,404 p=16800 u=deploy n=ansible | TASK [INATALL DOCKER] ******************************************************************************************
2025-02-19 14:14:32,506 p=16800 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Failed to lock apt for exclusive operation: Failed to lock directory /var/lib/apt/lists/: E:Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)"}
2025-02-19 14:14:32,540 p=16800 u=deploy n=ansible | PLAY RECAP *****************************************************************************************************
2025-02-19 14:14:32,544 p=16800 u=deploy n=ansible | srv-web-01                 : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 14:19:21,561 p=16976 u=deploy n=ansible | PLAY [Apache installation avec Docker] *************************************************************************
2025-02-19 14:19:21,671 p=16976 u=deploy n=ansible | TASK [Gathering Facts] *****************************************************************************************
2025-02-19 14:19:28,740 p=16976 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"msg": "Missing sudo password"}
2025-02-19 14:19:28,751 p=16976 u=deploy n=ansible | PLAY RECAP *****************************************************************************************************
2025-02-19 14:19:28,753 p=16976 u=deploy n=ansible | srv-web-01                 : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 21:00:40,321 p=18052 u=deploy n=ansible | ERROR! Vars in a Play must be specified as a dictionary, or a list of dictionaries

The error appears to be in '/home/deploy/codes/ansible/webapp/deploy.yaml': line 6, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  vars:
    ansible_sudo_pass:deploy
    ^ here

2025-02-19 21:03:48,496 p=18142 u=deploy n=ansible | srv-web-01 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-02-19 21:03:54,905 p=18142 u=deploy n=ansible | control | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
2025-02-19 22:21:41,193 p=18487 u=deploy n=ansible | PLAY [Apache installation avec Docker] **********************************************************
2025-02-19 22:21:41,923 p=18487 u=deploy n=ansible | TASK [Gathering Facts] **************************************************************************
2025-02-19 22:22:29,408 p=18487 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"msg": "Incorrect sudo password"}
2025-02-19 22:22:29,464 p=18487 u=deploy n=ansible | PLAY RECAP **************************************************************************************
2025-02-19 22:22:29,474 p=18487 u=deploy n=ansible | srv-web-01                 : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-02-19 22:59:14,919 p=18956 u=deploy n=ansible | PLAY [Apache installation avec Docker] *************************************************************************
2025-02-19 22:59:17,198 p=18956 u=deploy n=ansible | TASK [Gathering Facts] *****************************************************************************************
2025-02-19 23:00:42,814 p=18956 u=deploy n=ansible | ok: [srv-web-01]
2025-02-19 23:00:43,262 p=18956 u=deploy n=ansible | TASK [INATALL DOCKER] ******************************************************************************************
2025-02-19 23:58:48,159 p=5634 u=deploy n=ansible | PLAY [Apache installation avec Docker] **********************************************************
2025-02-19 23:58:48,340 p=5634 u=deploy n=ansible | TASK [Gathering Facts] **************************************************************************
2025-02-19 23:58:51,900 p=5634 u=deploy n=ansible | fatal: [srv-web-01]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.32.137 port 22: No route to host", "unreachable": true}
2025-02-19 23:58:51,934 p=5634 u=deploy n=ansible | PLAY RECAP **************************************************************************************
2025-02-19 23:58:51,941 p=5634 u=deploy n=ansible | srv-web-01                 : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-02-20 13:39:21,497 p=7111 u=deploy n=ansible | PLAY [Apache installation avec Docker] **********************************************************
2025-02-20 13:39:21,675 p=7111 u=deploy n=ansible | TASK [Gathering Facts] **************************************************************************
2025-02-20 13:39:42,805 p=7111 u=deploy n=ansible | ok: [srv-web-01]
2025-02-20 13:39:43,018 p=7111 u=deploy n=ansible | TASK [INATALL DOCKER] ***************************************************************************
2025-02-20 13:41:13,428 p=7111 u=deploy n=ansible | ok: [srv-web-01]
2025-02-20 13:41:13,709 p=7111 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ******************************************************************
2025-02-20 13:41:37,337 p=7111 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from 
"compatibility" to "no_defaults" in community.docker 2.0.0. To remove this warning, please 
specify an explicit value for it now. This feature will be removed from community.docker in 
version 2.0.0. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-02-20 13:41:37,348 p=7111 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Invalid port: \"80\"\""}
2025-02-20 13:41:37,371 p=7111 u=deploy n=ansible | PLAY RECAP **************************************************************************************
2025-02-20 13:41:37,376 p=7111 u=deploy n=ansible | srv-web-01                 : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-04 21:29:24,910 p=7114 u=deploy n=ansible | ERROR! the playbook: deployyaml could not be found
2025-03-04 21:29:46,447 p=7210 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-04 21:29:46,744 p=7210 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-04 21:29:50,533 p=7210 u=deploy n=ansible | fatal: [srv-web-01]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.32.137 port 22: No route to host", "unreachable": true}
2025-03-04 21:29:50,540 p=7210 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-04 21:29:50,547 p=7210 u=deploy n=ansible | srv-web-01                 : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-04 21:32:47,958 p=7332 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-04 21:32:48,199 p=7332 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-04 21:32:51,876 p=7332 u=deploy n=ansible | fatal: [srv-web-01]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.32.137 port 22: No route to host", "unreachable": true}
2025-03-04 21:32:51,890 p=7332 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-04 21:32:51,894 p=7332 u=deploy n=ansible | srv-web-01                 : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-04 21:56:11,609 p=7473 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-04 21:56:11,809 p=7473 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-04 21:56:35,532 p=7473 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 21:56:35,727 p=7473 u=deploy n=ansible | TASK [INATALL DOCKER] ********************************************************************************************************************************************
2025-03-04 21:57:13,299 p=7473 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 21:57:13,707 p=7473 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-04 21:59:00,371 p=7473 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-04 21:59:00,506 p=7473 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Error starting container ba70942b4d05bb24efa310302998347c1d77d390c1ec7c11df85e06aa028573b: 500 Server Error: Internal Server Error (\"b'{\"message\":\"driver failed programming external connectivity on endpoint webapp (abe8ced5dc33bf7f39f10c81a8188bc0be49cfc11e889801adf6ddc6b5ef4c9c): failed to bind port 0.0.0.0:80/tcp: Error starting userland proxy: listen tcp4 0.0.0.0:80: bind: address already in use\"}'\")"}
2025-03-04 21:59:00,583 p=7473 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-04 21:59:00,590 p=7473 u=deploy n=ansible | srv-web-01                 : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-04 22:02:22,625 p=7742 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-04 22:02:22,749 p=7742 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-04 22:02:35,629 p=7742 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 22:02:35,760 p=7742 u=deploy n=ansible | TASK [INATALL DOCKER] ********************************************************************************************************************************************
2025-03-04 22:03:01,902 p=7742 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 22:03:02,213 p=7742 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-04 22:03:23,865 p=7742 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-04 22:03:23,873 p=7742 u=deploy n=ansible | changed: [srv-web-01]
2025-03-04 22:03:24,153 p=7742 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-04 22:03:24,159 p=7742 u=deploy n=ansible | srv-web-01                 : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-04 22:19:10,869 p=8443 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-04 22:19:11,099 p=8443 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-04 22:19:27,269 p=8443 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 22:19:27,404 p=8443 u=deploy n=ansible | TASK [INATALL DOCKER] ********************************************************************************************************************************************
2025-03-04 22:19:38,802 p=8443 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Failed to lock apt for exclusive operation: Failed to lock directory /var/lib/apt/lists/: E:Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)"}
2025-03-04 22:19:38,815 p=8443 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-04 22:19:38,823 p=8443 u=deploy n=ansible | srv-web-01                 : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-04 22:24:34,203 p=8633 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-04 22:24:34,493 p=8633 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-04 22:24:45,674 p=8633 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"msg": "Missing sudo password"}
2025-03-04 22:24:45,687 p=8633 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-04 22:24:45,690 p=8633 u=deploy n=ansible | srv-web-01                 : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-04 22:30:11,912 p=8783 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-04 22:30:12,041 p=8783 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-04 22:30:27,988 p=8783 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 22:30:28,106 p=8783 u=deploy n=ansible | TASK [Install Docker] ********************************************************************************************************************************************
2025-03-04 22:30:55,673 p=8783 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 22:30:55,995 p=8783 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-04 22:31:05,297 p=8783 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-04 22:31:05,301 p=8783 u=deploy n=ansible | ok: [srv-web-01]
2025-03-04 22:31:05,764 p=8783 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-04 22:31:05,769 p=8783 u=deploy n=ansible | srv-web-01                 : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-08 17:10:14,108 p=7800 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-08 17:10:14,255 p=7800 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-08 17:10:30,098 p=7800 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 17:10:30,210 p=7800 u=deploy n=ansible | TASK [Install Docker] ********************************************************************************************************************************************
2025-03-08 17:10:57,829 p=7800 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 17:10:58,182 p=7800 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-08 17:11:16,077 p=7800 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-08 17:11:16,084 p=7800 u=deploy n=ansible | fatal: [srv-web-01]: FAILED! => {"changed": false, "msg": "Error starting container ba70942b4d05bb24efa310302998347c1d77d390c1ec7c11df85e06aa028573b: 500 Server Error: Internal Server Error (\"b'{\"message\":\"driver failed programming external connectivity on endpoint webapp (f93372147ceaf901e8f57e85c73c4bd8e99110fab929488adf189543aeb46de4): failed to bind port 0.0.0.0:80/tcp: Error starting userland proxy: listen tcp4 0.0.0.0:80: bind: address already in use\"}'\")"}
2025-03-08 17:11:16,116 p=7800 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-08 17:11:16,124 p=7800 u=deploy n=ansible | srv-web-01                 : ok=2    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-08 17:17:02,307 p=8054 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-08 17:17:02,446 p=8054 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-08 17:17:20,622 p=8054 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 17:17:20,745 p=8054 u=deploy n=ansible | TASK [Install Docker] ********************************************************************************************************************************************
2025-03-08 17:19:25,931 p=8054 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 17:19:26,410 p=8054 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-08 17:19:54,608 p=8054 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-08 17:19:54,614 p=8054 u=deploy n=ansible | changed: [srv-web-01]
2025-03-08 17:19:54,867 p=8054 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-08 17:19:54,872 p=8054 u=deploy n=ansible | srv-web-01                 : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-08 17:23:07,606 p=8342 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-08 17:23:07,719 p=8342 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-08 17:23:24,814 p=8342 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 17:23:24,929 p=8342 u=deploy n=ansible | TASK [Install Docker] ********************************************************************************************************************************************
2025-03-08 17:24:34,513 p=8342 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 17:24:34,824 p=8342 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-08 17:24:42,469 p=8342 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-08 17:24:42,474 p=8342 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 17:24:42,824 p=8342 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-08 17:24:42,827 p=8342 u=deploy n=ansible | srv-web-01                 : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-08 17:42:51,199 p=9150 u=deploy n=ansible | ERROR! 'vars_fille' is not a valid attribute for a Play

The error appears to be in '/home/deploy/codes/ansible/webapp/deploy.yaml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: "Apache installation avec Docker"
  ^ here

2025-03-08 17:44:21,114 p=9214 u=deploy n=ansible | ERROR! 'vars_fille' is not a valid attribute for a Play

The error appears to be in '/home/deploy/codes/ansible/webapp/deploy.yaml': line 2, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

---
- name: "Apache installation avec Docker"
  ^ here

2025-03-08 17:44:53,329 p=9286 u=deploy n=ansible | ERROR! Attempting to decrypt but no vault secrets found
2025-03-08 18:08:59,789 p=10847 u=deploy n=ansible | ERROR! variable files must contain either a dictionary of variables, or a list of dictionaries. Got: deploytest (<class 'ansible.parsing.yaml.objects.AnsibleUnicode'>)
2025-03-08 18:15:46,672 p=11168 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-08 18:15:46,982 p=11168 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-08 18:16:09,285 p=11168 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 18:16:09,613 p=11168 u=deploy n=ansible | TASK [Install Docker] ********************************************************************************************************************************************
2025-03-08 18:16:44,625 p=11168 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 18:16:44,979 p=11168 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-08 18:16:54,748 p=11168 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-08 18:16:54,755 p=11168 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 18:16:55,210 p=11168 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-08 18:16:55,213 p=11168 u=deploy n=ansible | srv-web-01                 : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-08 18:17:59,299 p=11436 u=deploy n=ansible | PLAY [Apache installation avec Docker] ***************************************************************************************************************************
2025-03-08 18:17:59,439 p=11436 u=deploy n=ansible | TASK [Gathering Facts] *******************************************************************************************************************************************
2025-03-08 18:18:12,162 p=11436 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 18:18:12,302 p=11436 u=deploy n=ansible | TASK [Install Docker] ********************************************************************************************************************************************
2025-03-08 18:18:44,262 p=11436 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 18:18:44,869 p=11436 u=deploy n=ansible | TASK [CREATE APACHE CONTAINER] ***********************************************************************************************************************************
2025-03-08 18:18:53,429 p=11436 u=deploy n=ansible | [DEPRECATION WARNING]: The container_default_behavior option will change its default value from "compatibility" to "no_defaults" in community.docker 2.0.0. To 
remove this warning, please specify an explicit value for it now. This feature will be removed from community.docker in version 2.0.0. Deprecation warnings can 
be disabled by setting deprecation_warnings=False in ansible.cfg.
2025-03-08 18:18:53,431 p=11436 u=deploy n=ansible | ok: [srv-web-01]
2025-03-08 18:18:53,665 p=11436 u=deploy n=ansible | PLAY RECAP *******************************************************************************************************************************************************
2025-03-08 18:18:53,672 p=11436 u=deploy n=ansible | srv-web-01                 : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
